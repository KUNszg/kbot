

<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>API Reference</title>
        <link href="./stylesheets/style_api-screen.css" rel="stylesheet" media="screen" />
        <link href="./stylesheets/style_api-print.css" rel="stylesheet" media="print" />
        <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
        <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
        <link rel="icon" type="image/png" href="https://i.imgur.com/Tyf3qyg.gif">
        <script src="javascripts/all-a9fde460.js"></script>
        <script>
            $(function() { setupCodeCopy(); });
        </script>
    </head>
    <body class="index" data-languages="[&quot;shell&quot;]">
        <a href="#" id="nav-button">
        <span>
        NAV
        <img src="img/navbar-cad8cdcb.png" alt="" />
        </span>
        </a>
        <div class="toc-wrapper">
            <h1 class="inner" style="margin-left: -3px; text-align: center;">
                <a href="https://kunszg.com" style="color: white; text-decoration: none;" class="button1" id="main-text">KBot</a>
                <script type="text/javascript">
                    const rand = () => {
                        return (Math.random() * 10) * 100;
                    }

                    setTimeout(() => {
                        document.getElementById("main-text").innerHTML = "KsBot";
                        setTimeout(() => {
                            document.getElementById("main-text").innerHTML = "KsyBot";
                            setTimeout(() => {
                                document.getElementById("main-text").innerHTML = "KsynBot";
                                setTimeout(() => {
                                    document.getElementById("main-text").innerHTML = "KsynBot";
                                    setTimeout(() => {
                                        document.getElementById("main-text").innerHTML = "KsyncBot";
                                    }, rand());
                                }, rand());
                            }, rand());
                        }, rand());
                    }, 1500);
                </script>
            </h1>
            <a href="https://github.com/KUNszg/kbot" target="_blank"><img src="img/logo-1e815a84.png" class="logo" alt="" style="margin-left: 35%; margin-top: 15%; margin-bottom: 10%;" width="50px" height="50px" /></a>
            <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
            </div>
            <div class="search">
                <input type="text" class="search" id="input-search" placeholder="Search">
            </div>
            <ul class="search-results"></ul>
            <ul id="toc" class="toc-list-h1">
                <li>
                    <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
                </li>
                <li>
                    <a href="#contact" class="toc-h1 toc-link" data-title="Contact">Contact</a>
                </li>
                <li>
                  <a href="#api-reference" class="toc-h1 toc-link" data-title="">API reference</a>
                  <ul class="toc-list-h2">
                    <li>
                      <a href="#stats" class="toc-h2 toc-link" data-title="Stats">Get statistics</a>
                    </li>
                    <li>
                      <a href="#channels" class="toc-h2 toc-link" data-title="Channels">Get channels</a>
                    </li>
                  </ul>
                </li>
                <li>
                    <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
                </li>
            </ul>
        </div>
        <div class="page-wrapper">
            <div class="dark-box"></div>
            <div class="content dark">
                <h1 id='introduction'>Introduction</h1>
                <p>This documentation is for <strong>ksyncbot</strong>'s API endpoints.</p>
                <p>Since the project is constantly growing, expect changes and updates in endpoints, but don't worry, everything is backwards compatible.</p>
                <h1 id='contact'>Contact</h1>
                <p>If you have any questions or requests regarding the API or the project in general, create a suggestion in my bot by typing <br><code>kb suggest &#60;your_message&#62;</code> in Twitch chat with my bot present, eventually you can email me at <a href="mailto:dev@kunszg.com">dev@kunszg.com</a></p>
                <h1 id="api-reference" style="margin-bottom: -51px;">API reference</h1>
                <h1 id='stats' style="font-size: 21px;">Statistics</h1>
                <div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X </span>GET <span class="s2">"https://kunszg.com/api/stats"</span></code>
                  </pre>
                </div>
                <blockquote>
                    <p>The above command returns JSON structured like this:</p>
                </blockquote>
                <div class="highlight">
                    <pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span>  <span class="p"><span class="nl">"modules"</span>: {</span><span class="w">
    </span>    <span class="nl">"remindersLastSeen"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624137483000</span><span class="p">,</span><span class="w">
    </span>    <span class="nl">"loggerLastSeen"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624137541000</span><span class="p">,</span><span class="w">
    </span>    <span class="nl">"apiLastSeen"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624137491000</span><span class="p">,</span><span class="w">
    </span>    <span class="nl">"botLastSeen"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624137522000</span><span class="w">
  </span>  <span class="p">},</span><span class="w">
  </span>  <span class="p"><span class="nl">"bot"</span>: {</span><span class="w">
    </span>    <span class="nl">"isRestarting"</span><span class="p">:</span><span class="w"> </span><span class="nc">false</span><span class="p">,</span><span class="w">
    </span>    <span class="nl">"codeUptime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624037321476</span><span class="p">,</span><span class="w">
    </span>    <span class="nl">"linesOfCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">10185</span><span class="p">,</span><span class="w">
    </span>    <span class="nl">"usersLogged"</span><span class="p">:</span><span class="w"> </span><span class="mi">2574066</span><span class="p">,</span><span class="w">
    </span>    <span class="nl">"commandsExecutions"</span><span class="p">:</span><span class="w"> </span><span class="mi">211188</span><span class="w">
  </span>  <span class="p">},</span><span class="w">
  </span>  <span class="p"><span class="nl">"github"</span>: {</span><span class="w">
    </span>    <span class="nl">"commits"</span><span class="p">:</span><span class="w"> </span><span class="mi">2707</span><span class="w">
  </span>  <span class="p">},</span><span class="w">
  </span>  <span class="p"><span class="nl">"twitch"</span>: {</span><span class="w">
    </span>    <span class="nl">"totalViewCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="w">
  </span>  <span class="p">},</span>
</span><span class="p">}</span><span class="w">
</span></code></pre>
                </div>
                <p>This endpoint retrieves statistics related to ksyncbot and its workspace.</p>
                <h3 id='http-request'>HTTP Request</h3>
                <p><code><span style="color:green; font-size: 15px;">GET</span> https://kunszg.com/api/stats</code></p>
                <h3 id='query-parameters'>Query Parameters</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
                <aside class="success">
                    200 - OK
                </aside>
                <h1 id='channels' style="font-size: 21px">Channels</h1>
                <div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X </span>GET <span class="s2">"https://kunszg.com/api/channels?details=true&channel=nymn"</span></code>
                  </pre>
                </div>
                <blockquote>
                    <p>The above command returns JSON structured like this:</p>
                </blockquote>
                <div class="highlight">
                    <pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span>  <span class="nl">"code"</span>:<span class="mi"> 200</span>,<span class="p">
    <span class="nl">"count"</span>:<span class="mi"> 1</span>,<span class="p">
    <span class="nl">"channels"</span>: {</span>
        <span class="nl">"nymn"</span>: {<span class="w">
  </span>          <span class="nl">"id"</span>: <span class="mi">4</span>,<span class="w">
  </span>          <span class="nl">"userId"</span>: <span class="mi">62300805</span>,<span class="w">
  </span>          <span class="nl">"name"</span>: <span class="s2">"nymn"</span>,<span class="w">
  </span>          <span class="nl">"liveStatus"</span>: <span class="s2">"live"</span>,<span class="w">
  </span>          <span class="nl">"isStrict"</span>: <span class="nc">false</span>,<span class="w">
  </span>          <span class="nl">"created"</span>: <span class="s2">"2020-10-19T17:37:44.000Z"</span>,<span class="w">
  </span>          <span class="nl">"createdTimestamp"</span>: <span class="mi">1603129064000</span>,<span class="w">
  </span>          <span class="nl">"commandsUsed"</span>: <span class="mi">54033</span>,<span class="w">
  </span>          <span class="nl">"isBanphraseApiActive"</span>: <span class="nc">true</span>,<span class="w">
  </span>          <span class="nl">"banphraseApi"</span>: <span class="s2">"https://nymn.pajbot.com/api/v1/banphrases/test"</span>,<span class="w">
            <span class="nl">"logger"</span>: {<span class="w">
                <span class="nl">"id"</span>: <span class="mi">3</span>,<span class="w">
                <span class="nl">"isLogging"</span>: <span class="nc">true</span>,<span class="w">
                <span class="nl">"created"</span>: <span class="s2">"2020-04-05T04:14:04.000Z"</span>,<span class="w">
                <span class="nl">"createdTimestamp"</span>: <span class="mi">1586060044000</span>,<span class="w">
                <span class="nl">"tableSize"</span>: <span class="mi">3444</span><span class="w">
          <span class="p">  }</span>
</span>      <span class="p">  }</span>
  <span class="p">  }</span>
<span class="p">}</span><span class="w">
</span></code></pre>
                </div>
                <p>This endpoint retrieves channels in which ksyncbot is currently operational.</p>
                <!-- red label
                  <aside class="warning">Inside HTML code blocks like this one, you can't use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>
                -->
                <h3 id='http-request-2'>HTTP Request</h3>
                <p><code><span style="color:green; font-size: 15px;">GET</span> https://kunszg.com/api/channels</code></p>
                <h3 id='url-parameters'>URL Parameters</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>details</td>
                            <td>false</td>
                            <td>Extends the returned data by details about the channels.</td>
                        </tr>
                        <tr>
                            <td>channel</td>
                            <td>-</td>
                            <td>retrieves the specified channel, works only when <code>details</code> parameter is set to <code>true</code>.</td>
                        </tr>
                    </tbody>
                </table>
                <h3 id='response-fields'>Response Fields</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>code</code></td>
                            <td>integer</td>
                            <td>HTTP response status code, set to <code>200</code> on success.</td>
                        </tr>
                        <tr>
                            <td><code>count</code></td>
                            <td>integer</td>
                            <td>Count of channels returned in the response.</td>
                        </tr>
                        <tr>
                            <td><code>id</code></td>
                            <td>integer</td>
                            <td>Internal unique identification number of given channel in both standalone bot and logger. At the same time this number defines position at which the channel should be joined whenever the bot is launching (lower id's get to use the bot faster after restart). In object property of <code>logger</code> this field returns <code>null</code> when <code>isLogging</code> parameter is set to false.</td>
                        </tr>
                        <tr>
                            <td><code>userId</code></td>
                            <td>integer</td>
                            <td>Twitch user id of the channel.</td>
                        </tr>
                        <tr>
                            <td><code>name</code></td>
                            <td>string</td>
                            <td>Twitch channel name.</td>
                        </tr>
                        <tr>
                            <td><code>liveStatus</code></td>
                            <td>string</td>
                            <td>States whether the channel is currently <code>"live"</code> or <code>"offline"</code>.</td>
                        </tr>
                        <tr>
                            <td><code>isStrict</code></td>
                            <td>boolean</td>
                            <td>When set to <code>true</code> the bot is going to ignore incomming commands when given channel is <code>"live"</code> and the response message is going to be shortened.</td>
                        </tr>
                        <tr>
                            <td><code>created</code></td>
                            <td>string</td>
                            <td>UTC date of standalone bot joining the channel. In object property of <code>logger</code> this field returns <code>null</code> when <code>isLogging</code> parameter is set to false.</td>
                        </tr>
                        <tr>
                            <td><code>createdTimestamp</code></td>
                            <td>integer</td>
                            <td>Timestamp in milliseconds of standalone bot joining the channel. In object property of <code>logger</code> this field returns <code>null</code> when <code>isLogging</code> parameter is set to false.</td>
                        </tr>
                        <tr>
                            <td><code>commandsUsed</code></td>
                            <td>integer</td>
                            <td>Amount of commands used in the channel.</td>
                        </tr>
                        <tr>
                            <td><code>isBanphraseApiActive</code></td>
                            <td>boolean</td>
                            <td>States whether the banphrase API is assigned to the channel and is enabled on the bot's end.</td>
                        </tr>
                        <tr>
                            <td><code>banphraseApi</code></td>
                            <td>string</td>
                            <td>Returns the channel assigned banphrase API (if there is one and it's enabled) as <code>string</code>, and returns <code>null</code> if none was assigned (or enabled).</td>
                        </tr>
                        <tr>
                            <td><code>isLogging</code></td>
                            <td>boolean</td>
                            <td>If set to <code>true</code> the channel is currently being logged, if set to <code>false</code> logger is not operational in the given channel.</td>
                        </tr>
                        <tr>
                            <td><code>tableSize</code></td>
                            <td>integer</td>
                            <td>Returns the apparent size of logs file of given channel in MB. This field returns <code>null</code> when <code>isLogging</code> parameter is set to false.</td>
                        </tr>
                    </tbody>
                </table>
                <aside class="success">
                    200 - OK
                </aside>
                <h1 id='errors'>Errors</h1>
                <!--
                <aside class="notice">
                    This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
                </aside>
                -->
                <p>The ksyncbot API uses or will use in future the following error codes:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Error Code</th>
                            <th>Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>400</td>
                            <td>Bad Request -- Your request is invalid.</td>
                        </tr>
                        <tr>
                            <td>401</td>
                            <td>Unauthorized -- Your API key is wrong.</td>
                        </tr>
                        <tr>
                            <td>403</td>
                            <td>Forbidden -- Requested resource did not match your permissions.</td>
                        </tr>
                        <tr>
                            <td>404</td>
                            <td>Not Found -- Requested resource was not found.</td>
                        </tr>
                        <tr>
                            <td>405</td>
                            <td>Method Not Allowed -- Requested method is not allowed for this resource.</td>
                        </tr>
                        <tr>
                            <td>406</td>
                            <td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
                        </tr>
                        <tr>
                            <td>410</td>
                            <td>Gone -- The resource requested has been removed.</td>
                        </tr>
                        <tr>
                            <td>429</td>
                            <td>Too Many Requests -- Sending too many requests.</td>
                        </tr>
                        <tr>
                            <td>500</td>
                            <td>Internal Server Error --  Server is currently not available. Try again later.</td>
                        </tr>
                        <tr>
                            <td>503</td>
                            <td>Service Unavailable -- Temporarily offline for maintenance. Please try again later.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
          <div class="dark-box">
              <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
              </div>
          </div>
        </div>
    </body>
</html>

